# 포스트모텀

포스트모텀은 장애에 대한 내용을 문서화하고, 장애가 발생하게 된 원인에 대해 이해하며, 무엇보다 장애를 해결하기 위해 취한 조치들이 향후 장애의 재발을 막는데도 유용하게 사용될 수 있도록 하기 위해 작성하는 문서입니다.

우리는 새로운 기능과 새로운 시스템을 추가하며 서비스를 끊임없이 개선합니다.

우리의 변화 속도를 고려하면 사건 사고는 필연적이라고도 볼 수 있습니다.

장애가 발생하면, 우리는 장애의 원인을 찾아 해결하고 서비스를 다시 정상적인 운영 상태로 복귀 시켜야 합니다.

하지만 이런 장애들로부터 계속해서 학습할 수 있는 정규화된 절차를 갖지 않는다면 이런 장애들은 무한정 반복될 것이고, 문제 해결의 복잡도를 증가시키거나 다른 시스템으로 확산되어 운영자들을 고통스럽게 하며 궁극적으로는 사용자에게도 영향을 미칠 것입니다.

포스트모텀은 우리가 실패로부터 새로운 것을 배울 수 있는 기회입니다. 취약점을 고칠 수 있는 기회이자 시스템의 어느 부분을 어떻게 개선할 수 있는지에 대한 결과를 도출하는 과정입니다.

## 포스트모텀 작성 절차

### 이슈 파악

- 사용자가 다운타임을 경험했거나 신뢰성이 목표치 이하로 떨어진 경우
- 데이터 손실이 발생한 경우
- 장애 해결 시간이 가정했던 시간보다 오래 걸린 경우
- 모니터링 장애 시(장애를 다른 헬프미 구성원이 직접 발견한 경우)

### 포스트모텀 작성 및 공유

- 아래 포스트모텀DB 테이블의 템플릿을 이용하여 포스트모텀 작성
    - 장애 발생 기록
    - 그 영향
    - 장애를  완화하거나 해결하기 위해 수행한 작업
    - 장애의 근본 우너인
    - 향후 재발 방지를 위한 후속 조치
- 작성한 포스트모텀을 이해당사자 모두에게 공유
- 작성한 포스트모텀을 다른 엔지니어 팀원에게 리뷰 요청

### 포스트모텀 리뷰

- 리뷰 과정에서 고려할 사항
    - 나중을 대비해 장애에 대한 핵심 데이터를 수집하고 있는지
    - 장애 영향이 완벽히 처리되었는지
    - 장애 근본 원인이 충분히 사려 깊게 분석되었는지
    - 후속 조치 계획이 적절하며 이슈 수정 작업들의 우선순위가 적절하게 조정되었는지

## 원칙

- 서로 비난하지 않습니다. 팀의 실수나 부적절한 조치를 지목하지 않고 장애를 유발한 원인을 판단하는 데 집중합니다.

## 포스트모텀 회고

- 작성한 포스트모텀을 바탕으로 양에 따라 월/분기 별 포스트모텀 회고를 진행합니다.
    - 장애를 통해 어떤 것을 알게 되었는지
    - 장애 이후 어떤 조치가 있었는 지
